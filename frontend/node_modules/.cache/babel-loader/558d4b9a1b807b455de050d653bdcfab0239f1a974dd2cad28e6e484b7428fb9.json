{"ast":null,"code":"var _jsxFileName = \"/Users/zhirong/Desktop/test1/frontend/src/ViewReports.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport './ViewReports.css';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ViewReports() {\n  _s();\n  const [reports, setReports] = useState([]);\n  const [statusFilter, setStatusFilter] = useState('all');\n  useEffect(() => {\n    fetch('http://localhost:8081/reports').then(res => {\n      if (!res.ok) {\n        // res.ok is false if the status code is 4xx or 5xx\n        throw new Error(`HTTP error! status: ${res.status}`);\n      }\n      return res.json();\n    }).then(data => {\n      console.log('Data from server: ', data);\n      setReports(data);\n    }).catch(err => console.error('Error fetching reports: ', err));\n  }, []);\n  const filteredReports = reports.filter(report => statusFilter === 'all' || report.status === statusFilter);\n  function updateStatus(idcolumn, newStatus) {\n    // Send a request to your server to update the status\n    axios.put(`http://localhost:8081/reports/${idcolumn}`, {\n      newStatus\n    }).then(response => {\n      console.log('Server response: ', response.data);\n      // Update the state of your component to reflect the new status\n      setReports(reports.map(report => report.idcolumn === idcolumn ? {\n        ...report,\n        status: newStatus\n      } : report));\n    }).catch(error => {\n      console.error('Error updating status: ', error);\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"View Reports\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"filter-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Filter by:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        className: \"filter-margin\",\n        value: statusFilter,\n        onChange: e => setStatusFilter(e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"all\",\n          children: \"All\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"solved\",\n          children: \"Solved\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"unsolved\",\n          children: \"Unsolved\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"full-width-table table-margin\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"ID\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Toilet Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: filteredReports.map(report => {\n          console.log('Report: ', report);\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: report.idcolumn\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: report.toiletname\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"details-column\",\n              children: report.details\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"status-column\",\n              children: /*#__PURE__*/_jsxDEV(\"select\", {\n                value: report.status,\n                onChange: e => updateStatus(report.idcolumn, e.target.value),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"solved\",\n                  children: \"Solved\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 71,\n                  columnNumber: 11\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"unsolved\",\n                  children: \"Unsolved\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 72,\n                  columnNumber: 11\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 7\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 5\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n}\n_s(ViewReports, \"w48M5yoBzV6wjQ1dAx4kx38u4N4=\");\n_c = ViewReports;\nexport default ViewReports;\nvar _c;\n$RefreshReg$(_c, \"ViewReports\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","ViewReports","_s","reports","setReports","statusFilter","setStatusFilter","fetch","then","res","ok","Error","status","json","data","console","log","catch","err","error","filteredReports","filter","report","updateStatus","idcolumn","newStatus","put","response","map","children","fileName","_jsxFileName","lineNumber","columnNumber","className","value","onChange","e","target","toiletname","details","_c","$RefreshReg$"],"sources":["/Users/zhirong/Desktop/test1/frontend/src/ViewReports.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport './ViewReports.css'\nimport axios from 'axios'\n\nfunction ViewReports() {\n  const [reports, setReports] = useState([]);\n  const [statusFilter, setStatusFilter] = useState('all');\n\n  useEffect(() => {\n    fetch('http://localhost:8081/reports')\n      .then(res => {\n        if (!res.ok) { // res.ok is false if the status code is 4xx or 5xx\n          throw new Error(`HTTP error! status: ${res.status}`);\n        }\n        return res.json();\n      })\n      .then(data => {\n        console.log('Data from server: ', data);\n        setReports(data);\n      })\n      .catch(err => console.error('Error fetching reports: ', err));\n  }, []);\n\n  const filteredReports = reports.filter(report => statusFilter === 'all' || report.status === statusFilter);\n\n  function updateStatus(idcolumn, newStatus) {\n    // Send a request to your server to update the status\n    axios.put(`http://localhost:8081/reports/${idcolumn}`, {\n      newStatus\n    })\n    .then(response => {\n      console.log('Server response: ', response.data);\n      // Update the state of your component to reflect the new status\n      setReports(reports.map(report => report.idcolumn === idcolumn ? { ...report, status: newStatus } : report));\n    })\n    .catch(error => {\n      console.error('Error updating status: ', error);\n    });\n  }\n\n  return (\n    <div>\n      <h1>View Reports</h1>\n      <div className=\"filter-container\">\n        <p>Filter by:</p>\n      <select className=\"filter-margin\" value={statusFilter} onChange={e => setStatusFilter(e.target.value)}>\n        <option value=\"all\">All</option>\n        <option value=\"solved\">Solved</option>\n        <option value=\"unsolved\">Unsolved</option>\n      </select>\n      </div>\n      <table className=\"full-width-table table-margin\">\n        <thead>\n          <tr>\n            <th>ID</th>\n            <th>Toilet Name</th>\n            <th>Details</th>\n            <th>Status</th>\n          </tr>\n        </thead>\n        <tbody>\n        {filteredReports.map(report => {\n  console.log('Report: ', report);\n  return (\n    <tr>\n      <td>{report.idcolumn}</td>\n      <td>{report.toiletname}</td>\n      <td className=\"details-column\">{report.details}</td>\n      <td className=\"status-column\">\n        <select value={report.status} onChange={e => updateStatus(report.idcolumn, e.target.value)}>\n          <option value=\"solved\">Solved</option>\n          <option value=\"unsolved\">Unsolved</option>\n        </select>\n      </td>\n    </tr>\n  );\n})}\n        </tbody>\n      </table>\n    </div>\n  )\n}\n\nexport default ViewReports"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}